{"ast":null,"code":"import _defineProperty from\"C:/Users/Alexander/Desktop/Projects/store/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Alexander/Desktop/Projects/store/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Alexander/Desktop/Projects/store/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import styles from'../../styles/Profile.module.css';import{updateUser}from'../../store/user/userSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=function Profile(_ref){var toggleCurrentFormType=_ref.toggleCurrentFormType;var dispatch=useDispatch();var _useSelector=useSelector(function(_ref2){var user=_ref2.user;return user;}),currentUser=_useSelector.currentUser;var _useState=useState({name:'',email:'',password:'',avatar:''}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];useEffect(function(){if(!currentUser)return;setValues(currentUser);},[currentUser]);var handleChange=function handleChange(_ref3){var _ref3$target=_ref3.target,value=_ref3$target.value,name=_ref3$target.name;setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();var isNotEmpty=Object.values(values).every(function(val){return val;});if(!isNotEmpty)return;dispatch(updateUser(values));};return/*#__PURE__*/_jsx(\"section\",{className:styles.profile,children:!currentUser?/*#__PURE__*/_jsx(\"span\",{children:\"You need to log in\"}):/*#__PURE__*/_jsxs(\"form\",{className:styles.form,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.group,children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Your email\",value:values.email,autoComplete:\"off\",onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:styles.group,children:/*#__PURE__*/_jsx(\"input\",{type:\"name\",name:\"name\",placeholder:\"Your name\",value:values.name,autoComplete:\"off\",onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:styles.group,children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Your password\",value:values.password,autoComplete:\"off\",onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:styles.group,children:/*#__PURE__*/_jsx(\"input\",{type:\"avatar\",name:\"avatar\",placeholder:\"Your avatar\",value:values.avatar,autoComplete:\"off\",onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:styles.submit,children:\"Update\"})]})});};export default Profile;","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","styles","updateUser","jsx","_jsx","jsxs","_jsxs","Profile","_ref","toggleCurrentFormType","dispatch","_useSelector","_ref2","user","currentUser","_useState","name","email","password","avatar","_useState2","_slicedToArray","values","setValues","handleChange","_ref3","_ref3$target","target","value","_objectSpread","_defineProperty","handleSubmit","e","preventDefault","isNotEmpty","Object","every","val","className","profile","children","form","onSubmit","group","type","placeholder","autoComplete","onChange","required","submit"],"sources":["C:/Users/Alexander/Desktop/Projects/store/src/components/Profile/Profile.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport styles from '../../styles/Profile.module.css';\r\nimport { updateUser } from '../../store/user/userSlice';\r\n\r\nconst Profile = ({ toggleCurrentFormType }) => {\r\n  const dispatch = useDispatch();\r\n  const { currentUser } = useSelector(({ user }) => user);\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    avatar: '',\r\n  });\r\n  useEffect(() => {\r\n    if (!currentUser) return;\r\n    setValues(currentUser);\r\n  }, [currentUser]);\r\n  const handleChange = ({ target: { value, name } }) => {\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const isNotEmpty = Object.values(values).every((val) => val);\r\n    if (!isNotEmpty) return;\r\n    dispatch(updateUser(values));\r\n  };\r\n  return (\r\n    <section className={styles.profile}>\r\n      {!currentUser ? (\r\n        <span>You need to log in</span>\r\n      ) : (\r\n        <form className={styles.form} onSubmit={handleSubmit}>\r\n          <div className={styles.group}>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Your email\"\r\n              value={values.email}\r\n              autoComplete=\"off\"\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className={styles.group}>\r\n            <input\r\n              type=\"name\"\r\n              name=\"name\"\r\n              placeholder=\"Your name\"\r\n              value={values.name}\r\n              autoComplete=\"off\"\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className={styles.group}>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Your password\"\r\n              value={values.password}\r\n              autoComplete=\"off\"\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className={styles.group}>\r\n            <input\r\n              type=\"avatar\"\r\n              name=\"avatar\"\r\n              placeholder=\"Your avatar\"\r\n              value={values.avatar}\r\n              autoComplete=\"off\"\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className={styles.submit}>\r\n            Update\r\n          </button>\r\n        </form>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}